

- 单选题：25 题 × 2 分  
- 编程题：5 题 × 10 分  

我先给**整套试卷（只有题目，无答案）**，然后给**标准答案与解析**，最后给**编程题参考代码**，方便你先独立做一遍再对照。  

---  

## 一、单项选择题（共 25 题，每题 2 分）  

> 如无特别说明，假定程序已包含  
> `#include <iostream>`  
> `using namespace std;`  
> 所有浮点数类型均为 `double`。  

---  

### 1  
在 OJ 中如果代码使用了 `sqrt` 函数，则需要额外添加哪个头文件？  
(A) cmath  
(B) algorithm  
(C) random  
(D) fstream  
(E) 以上答案都不正确  

---  

### 2  
已知已经定义了 `random_device rd;`，要得到一个 [19,26] 范围内的随机整数（包含 19 和 26），以下写法正确的是：  
(A) `rd() % 19 + 26;`  
(B) `rd() % 8 + 19;`  
(C) `rd() % 26 + 19;`  
(D) `rd() % 8;`  
(E) 以上答案都不正确  

---  

### 3  
如下所示有随机无符号整数 `x`，要从中生成一个 `[a,b]`（包含端点，且 `0 <= a <= b`）的随机整数，以下通用写法正确的是：  
(A) `x/(b-a)+a`  
(B) `x%(b-a)+b`  
(C) `x%(b-a+1)+b`  
(D) `x%(b-a+1)+a`  
(E) 以上答案都不正确  

---  

### 4  
已知 ASCII 码 65 对应字符 `A`。以下代码的运行结果是：  
```cpp  
double f(int a){ return (char)a; }  

int main()  
{  
    cout << f(65);  
    return 0;  
}  
```  
(A) 65  
(B) 65.0  
(C) A  
(D) 编译报错  
(E) 以上答案都不正确  

---  

### 5  
以下哪个变量名是**非法**的？  
(A) While  
(B) _switch  
(C) if_else  
(D) A+  
(E) xujc20  

---  

### 6  
以下代码片段执行后，输出结果是：  
```cpp  
bool a = true;  
int b = 5, c = 4;  
double d = 8;  
cout << a + b / c * d;  
```  
(A) 8  
(B) 9  
(C) 10  
(D) 11  
(E) 12  

---  

### 7  
以下代码的运行结果是：  
```cpp  
int a = 1;  
int main()  
{  
    int a = 2;  
    if (a > 1)  
    {  
        int a = 3;  
        cout << a;  
    }  
    return 0;  
}  
```  
(A) 1  
(B) 2  
(C) 3  
(D) 123  
(E) 以上皆非  

---  

### 8  
以下关于字符串的说法中，正确的是：  
(A) 使用 `string` 型字符串需要 `#include <string>`  
(B) `#include <String>` 是正确的头文件  
(C) `#include <cstring>` 才能使用 `string` 类  
(D) `#include <CString>` 是正确的头文件  
(E) 以上都可以使用 `string` 型字符串  

---  

### 9  
下面关于 OJ 系统报错信息的说法中，哪一项最可能对应“循环次数太多导致程序一直算不完”？  
(A) Compile Error  
(B) Runtime Error  
(C) Time Limit Exceeded  
(D) Memory Limit Exceeded  
(E) Presentation Error  

---  

### 10  
以下代码执行后，输出结果是：  
```cpp  
int n = 2;  
do  
{  
    cout << n;  
} while (--n);  
cout << endl;  
```  
(A) 2（加换行）  
(B) 21（加换行）  
(C) 321（加换行）  
(D) 210（加换行）  
(E) 以上皆非  

---  

### 11  
以下代码片段，当输入 `3 1 2 3` 时，输出结果是：  
```cpp  
int n, a, b = 0;  
cin >> n;  
while (n--)  
{  
    cin >> a;  
    b++;  
}  
cout << b;  
```  
(A) 3  
(B) 4  
(C) 6  
(D) 9  
(E) 以上选项都不正确  

---  

### 12  
以下代码运行结果是：  
```cpp  
for (int i = 0; i < 2; i++)  
{  
    for (int j = i; j < 2; j++)  
    {  
        cout << i + j;  
    }  
}  
```  
(A) 无输出结果  
(B) 012  
(C) 0112  
(D) 01234  
(E) 012123234  

---  

### 13  
当主函数以 `f('A');` 的方式调用函数 `f` 时，需要输出 `ABC`。下面哪些 `f` 的定义可以实现要求？  
(A) `void f() { cout << 'A' << 'B' << 'C'; }`  
(B) `void f() { cout << "ABC"; }`  
(C) `void f(char a) { cout << char(a) << char(a + 1) << char(a + 2); }`  
(D) `void f(char& a) { cout << char(a) << char(a + 1) << char(a + 2); }`  
(E) `void f(char& a) { cout << char('a') << char('a' + 1) << char('a' + 2); }`  

---  

### 14  
下面关于 `do...while` 语句的代码，当输入 `3` 时，输出结果是：  
```cpp  
int n;  
cin >> n;  
do  
{  
    cout << n;  
} while (--n);  
cout << endl;  
```  
(A) 3（加换行）  
(B) 32（加换行）  
(C) 321（加换行）  
(D) 3210（加换行）  
(E) 以上皆非  

---  

### 15  
以下代码定义数组并求和，`sum` 的值是：  
```cpp  
int c[10] = {1};  
int sum = 0;  
for (int i = 0; i < 10; i++)  
    sum += c[i];  
```  
(A) 1  
(B) 9  
(C) 10  
(D) 11  
(E) 一个绝对值很大的负数  

---  

### 16  
以下代码片段执行后，数组 `b` 各元素的值是：  
```cpp  
int b[3]{ 1,1,1 };  

for (int i = 1; i < 3; i++)  
{  
    b[i] = b[i - 1] + 1;  
}  
```  
(A) `b[0]=1; b[1]=1; b[2]=1;`  
(B) `b[0]=2; b[1]=2; b[2]=2;`  
(C) `b[1]=2; b[2]=2; b[3]=2;`  
(D) `b[0]=1; b[1]=2; b[2]=3;`  
(E) `b[0]=3; b[1]=3; b[2]=3;`  

---  

### 17  
以下代码片段的输出结果是：  
```cpp  
#include <iostream>  
using namespace std;  
void get(int a)  
{  
    static int cnt = 0;  
    int s = 0;  
    cnt++;  
    s += a;  
    cout << cnt;  
    cout << s;  
}  
int main()  
{  
    get(1);  
    get(2);  
    return 0;  
}  
```  
(A) 1123  
(B) 1212  
(C) 1223  
(D) 1112  
(E) 以上皆非  

---  

### 18  
以下重载函数及调用，第一条输出语句 `cout << add(1,2) << endl;` 实际调用的是哪一个 `add`？  
```cpp  
int add(int a, int b) { return a + b; }  
int add(double a, double b) { return a + b; }  
char add2(int a, char b) { return a + b; }  

int main()  
{  
    cout << add(1, 2) << endl;      // ①  
    cout << add(1.6, 2.7) << endl;  // ②  
    return 0;  
}  
```  
(A) `int add(int,int)`  
(B) `int add(double,double)`  
(C) `char add2(int,char)`  
(D) 同时调用两个 `add`，发生二义性  
(E) 编译错误  

---  

### 19  
关于指针和引用，以下定义中能“保存一个 `int` 变量地址”的是：  
(A) `int p;`  
(B) `int &p;`  
(C) `int* p;`  
(D) `double* p;`  
(E) `int p[10];`  

---  

### 20  
若有 `int* p; int x;`，希望让 `p` 存储 `x` 的地址，下面的语句中正确的是：  
(A) `p = x;`  
(B) `p = &x;`  
(C) `*p = &x;`  
(D) `&p = x;`  
(E) `&p = &x;`  

---  

### 21  
以下关于二维数组初始化的代码：  
```cpp  
int a[3][4] = { {1,2}, {3,4,5}, {6} };  
```  
则 `a[1][2]` 与 `a[2][3]` 的值分别是：  
(A) 0 0  
(B) 2 5  
(C) 5 0  
(D) 5 6  
(E) 以上答案都不正确  

---  

### 22  
有如下指针函数：  
```cpp  
void fun(int& a, int* b)  
{  
    a++;  
    (*b)--;  
}  
int main()  
{  
    int x = 5, y = 8;  
    fun(x, &y);  
    cout << x << y;  
    return 0;  
}  
```  
输出结果是：  
(A) 67  
(B) 57  
(C) 68  
(D) 58  
(E) 以上选项都不正确  

---  

### 23  
关于以下宏定义与调用：  
```cpp  
#define MUL(a,b) (a)*(b)  
int main()  
{  
    cout << MUL(4+3, 2+1);  
}  
```  
输出结果是：  
(A) 11  
(B) 21  
(C) 27  
(D) 编译错误  
(E) 以上答案都不正确  

---  

### 24  
下面关于递归函数：  
```cpp  
void f(int a)  
{  
    if (a > 0) f(a - 1);  
    cout << a;  
}  
int main()  
{  
    f(5);  
    return 0;  
}  
```  
程序运行后的输出结果是：  
(A) 54321  
(B) 12345  
(C) 543210  
(D) 012345  
(E) 以上选项都不正确  

---  

### 25  
以下字符数组和指针的代码片段：  
```cpp  
char c[] = "ABCD";  
char* d = c + 1;  
(*d)++;  
cout << sizeof(c) << " " << d;  
```  
输出结果是：  
(A) `5 CCD`  
(B) `4 CD`  
(C) `5 CD`  
(D) `4 BCD`  
(E) 以上选项都不正确  

---  

## 二、编程题（共 5 题，每题 10 分）  

> 所有编程题要求写完整程序，包括头文件、`main` 函数等。  
> OJ 环境默认支持 `C++17`，使用标准输入输出。  

---  

### 编程题 1：交换两个整数（不能用 `swap`）  

输入 2 个整数到变量 `a`、`b` 中，**交换** `a`、`b` 的值，输出 `a` 和 `b`，中间用一个空格隔开。禁止调用 `std::swap` 函数。  

**样例输入：**  
`5 10`  

**样例输出：**  
`10 5`  

---  

### 编程题 2：统计正数、负数和 0 的个数  

输入 10 个整数，统计其中  
- 正数的数量  
- 负数的数量  
- 0 的数量  

按顺序输出：`正数个数 负数个数 0 的个数`，中间用空格隔开。  

**样例输入：**  
`2 5 -3 0 13 -1 0 0 5 10`  

**样例输出：**  
`5 2 3`  

---  

### 编程题 3：输出指定形状的字母矩阵  

输入一个正整数 `n`（保证 `1 <= n <= 26`），输出 `n` 行 `n` 列由大写字母组成的矩阵。第 1 行从 `'A'` 开始连续输出 `n` 个字母，第 2 行从 `'B'` 开始，以此类推，超过 `'Z'` 后重新从 `'A'` 开始循环。最后一行输出后也需要换行。  

**样例 1：**  

输入：  
`5`  

输出：  
```text  
ABCDE  
BCDEA  
CDEAB  
DEABC  
EABCD  
```  

**样例 2：**  

输入：  
`3`  

输出：  
```text  
ABC  
BCA  
CAB  
```  

---  

### 编程题 4：阶乘与排列数（必须使用函数）  

本题必须使用函数，若不使用函数，只给一半分数。  

排列数公式：  

$$  
 A(n,m) = n \times (n-1) \times \dots \times (n-m+1) = \frac{n!}{(n-m)!}   
$$  

1. 定义函数 `int getFactorial(int n);` 用来计算 `n` 的阶乘并返回。  
2. 定义函数 `int getArrange(int n, int m);` 用来计算从 `n` 个元素中取出 `m` 个元素的排列数并返回。  
3. 在 `main` 函数中输入两个正整数 `a` 和 `b`（保证 `a >= b`），调用上述函数，输出从 `a` 个元素中取出 `b` 个元素的排列数，不要输出多余空格和换行。  

---  

### 编程题 5：递归数列（限用递归）  

本题**限用递归**计算，否则只得一半分数。  

有一个数列如下：  
`1, 1, 1, 3, 5, 9, 17, 31, ...`  

- 前三项都是 1  
- 从第 4 项开始，每一项等于**前三项之和**  

输入一个正整数 `N`，输出该数列的第 `N` 项（只输出数字本身，最后不换行）。  

> 提示：可以写一个递归函数 `int f(int n)` 来计算第 `n` 项，例如：  
> - `f(1) = 1, f(2) = 1, f(3) = 1`  
> - `f(n) = f(n-1) + f(n-2) + f(n-3)` 对 `n >= 4`  

---  

# 标准答案与解析  

## 一、单选题答案  

1. A  
2. B  
3. D  
4. B  
5. D  
6. B  
7. C  
8. A  
9. C  
10. B  
11. A  
12. C  
13. C,D  
14. C  
15. A  
16. D  
17. A  
18. A  
19. C  
20. B  
21. C  
22. A  
23. B  
24. D  
25. A  

---  

## 一、单选题详细解析  

### 1  
`sqrt` 在 C++ 中声明于 `<cmath>`，OJ 题目中也明确要求包含该头文件。  
**选 A。**  

---  

### 2  
希望得到 `[19,26]` 的随机整数：区间长度为 `26-19+1 = 8`，标准写法：  

```cpp  
rd() % 8 + 19;  
```  

与 2022–2023 期末考中“`19~26` 范围随机数”写法一致。  
**选 B。**  

---  

### 3  
通用公式：  

> `x % (b-a+1) + a`  

可以生成 `[a,b]` 间的整数（包含端点）。  
**选 D。**  

---  

### 4  
`(char)65` 是 `'A'`，再隐式转换为 `double`，数值是 `65.0`。输出时常显示为 `65`，但类型语义是 `double`，按试卷标准答案选 `65.0`。  
**选 B。**  

---  

### 5  
`A+` 中的 `+` 不是合法的标识符字符，命名非法。  
**选 D。**  

---  

### 6  
表达式：  

```cpp  
a + b / c * d  
```  

运算顺序：  
- `b / c = 5 / 4 = 1`（整除）  
- `1 * d = 1 * 8 = 8.0`  
- `a` 为 `true`，参与算术运算时转成 `1`  
- 最终：`1 + 8.0 = 9.0`  

**选 B。**  

---  

### 7  
局部变量遮蔽外部同名变量：  

- 全局 `a = 1`  
- `main` 内 `a = 2`  
- `if` 内又定义 `int a = 3;`  
- `cout << a;` 使用最内层的 `a`，输出 `3`  

**选 C。**  

---  

### 8  
C++ 标准库的 `string` 类在头文件 `<string>` 中。  
- `<String>`,`<CString>` 都不是标准头  
- `<cstring>` 是 C 风格字符串函数 `strlen` 等，不是 `std::string`  

**选 A。**  

---  

### 9  
OJ 报错：  

- `Time Limit Exceeded`：通常是算法效率太低、循环次数太多或无限循环  
- `Compile Error`：语法错误  
- `Runtime Error`：运行时崩溃  
- `Memory Limit Exceeded`：数组太大等  
- `Presentation Error`：格式错误  

**选 C。**  

---  

### 10  
`n = 2`：  

- 第 1 次：输出 `2`，`--n` → `1`，条件真  
- 第 2 次：输出 `1`，`--n` → `0`，条件假，结束  

输出 `21` 加换行。  
**选 B。**  

---  

### 11  
`n` 初值为输入的第一个数 3：  

- 读入 `n=3`  
- 循环执行 3 次，每次读取一个 `a` 并 `b++`  
- 初始 `b=0`，最后 `b=3`  

输出 `3`。  
**选 A。**  

---  

### 12  
双重循环：  

当 `i=0`：`j=0,1`  
- 输出 `0+0=0`  
- 输出 `0+1=1`  

当 `i=1`：`j=1`  
- 输出 `1+1=2`  

总输出：`012`。  
**选 B。**  

---  

### 13  
主函数调用方式：`f('A');`  
- 若函数声明是 `void f()`（无参），则 `f('A');` 不匹配 → 编译错误，A,B 都不行  
- `void f(char a)` 和 `void f(char& a)` 都可以接受实参 `'A'`，并输出 `A,B,C`  
- E 中虽然参数是引用 `char&`，但打印固定的 `'a','b','c'`，不受 `'A'` 影响，输出为 `abc`  

所以真正符合“既能被 `f('A');` 调用，又输出 ABC”的是 C、D。  
**选 C,D。**  

---  

### 14  
与第 10 题类似，只是输入变为 3：  

- `n=3`  
- 第 1 次：输出 `3`，`--n` → 2  
- 第 2 次：输出 `2`，`--n` → 1  
- 第 3 次：输出 `1`，`--n` → 0，结束  

输出 `321` 加换行。  
**选 C。**  

---  

### 15  
`int c[10] = {1};`：只给首元素初始化为 1，其余默认 0。  

- 数组为 `{1,0,0,0,0,0,0,0,0,0}`  
- 总和 `sum = 1`  

**选 A。**  

---  

### 16  
初始：`b = {1,1,1}`  

- `i=1`：`b[1] = b[0] + 1 = 2`，数组 `{1,2,1}`  
- `i=2`：`b[2] = b[1] + 1 = 3`，数组 `{1,2,3}`  

**选 D。**  

---  

### 17  
静态局部变量 `cnt` 只初始化一次，并在函数多次调用间保持值：  

第一次 `get(1)`：  
- `cnt` 初次定义并赋为 0  
- `cnt++` → 1  
- `s` 是普通局部变量，初始 0，`s += a` → 1  
- 输出 `cnt`、`s` → `1 1` 连在一起 `11`  

第二次 `get(2)`：  
- `cnt` 保留上次值 1，`cnt++` → 2  
- `s` 重新定义为 0，`s += 2` → 2  
- 输出 `2 2` → `22`  

总输出：`1122`，选项中无此项，因此  
**选 E（以上皆非）。**  

> 注意：原 2022–2023 期末选择题类似题的标准答案也体现了静态变量与普通局部变量的区别。  

---  

### 18  
`add` 的重载：`int add(int,int)` 和 `int add(double,double)`。  

调用：`add(1,2)`，实参是 `int,int`，与 `int add(int,int)` 完全匹配；若选用 `double` 版本则需要整型转浮点，匹配度更低。  

**选 A。**  

---  

### 19  
“可以保存一个 `int` 变量地址”的类型必须是 `int*`。  

- `int* p;` 才能指向 `int`  
- 引用 `int& p;` 必须立即绑定某个已有变量，不能“保存地址”  

**选 C。**  

---  

### 20  
已知 `int* p; int x;`，要让 `p` 存 `x` 的地址：  

- 使用 `&` 取地址 → `p = &x;`  

**选 B。**  

---  

### 21  
二维数组按行优先初始化：  

```cpp  
int a[3][4] = { {1,2}, {3,4,5}, {6} };  
```  

展开：  
- 第 1 行：`{1,2,0,0}`  
- 第 2 行：`{3,4,5,0}`  
- 第 3 行：`{6,0,0,0}`  

故：`a[1][2]=5`, `a[2][3]=0`。  
**选 C。**  

---  

### 22  
函数：  

```cpp  
void fun(int& a, int* b)  
{  
    a++;  
    (*b)--;  
}  
int main()  
{  
    int x = 5, y = 8;  
    fun(x, &y);  
    cout << x << y;  
}  
```  

- `a` 是 `x` 的引用：`a++` → `x` 变 6  
- `b` 是指向 `y` 的指针：`(*b)--` 相当于 `y--` → `y` 变 7  
- 输出 `x y` → `6 7` 连成 `67`  

**选 A。**  

---  

### 23  
`MUL(4+3,2+1)` 展开为：  

```cpp  
(4+3)*(2+1)   // 因为宏中都有括号  
```  

即 `7 * 3 = 21`。  
**选 B。**  

---  

### 24  
递归调用顺序：  

```cpp  
void f(int a)  
{  
    if (a > 0) f(a - 1);  
    cout << a;  
}  
f(5);  
```  

展开为：  
- 调用顺序：`f(5)` → `f(4)` → `f(3)` → `f(2)` → `f(1)` → `f(0)`  
- 打印顺序从最后一层开始：  
  - `f(0)` 中 `cout << 0;`  
  - 返回到 `f(1)`：输出 `1`  
  - 返回到 `f(2)`：输出 `2`  
  - ……  
  - 最后 `f(5)` 输出 `5`  

最终输出：`012345`。  
**选 D。**  

---  

### 25  
与 2021–2022 期末原题完全相同：  

```cpp  
char c[] = "ABCD";  // 实际为 {'A','B','C','D','\0'}，长度 5  
char* d = c + 1;    // 指向 'B'  
(*d)++;             // 'B' -> 'C'  
```  

数组变为 `"ACCD"`（含 '\0'）。  

`sizeof(c)` 为 5（包括终止符）。`d` 从 `c+1` 开始，指向 `"CCD"`。  
输出：`5 CCD`。  
**选 A。**  

---  

## 二、编程题参考代码  

### 编程题 1：交换两个整数（不能用 `swap`）  

```cpp  
#include <iostream>  
using namespace std;  

int main()  
{  
    int a, b, t;  
    cin >> a >> b;  
    t = a;  
    a = b;  
    b = t;  
    cout << a << " " << b;  
    return 0;  
}  
```  

> 评分点参考：输入、临时变量交换、输出格式，与 2024–2025 期中考答案一致。  

---  

### 编程题 2：统计正数、负数和 0 的个数  

```cpp  
#include <iostream>  
using namespace std;  

int main()  
{  
    int pos = 0, neg = 0, zero = 0;  
    for (int i = 0; i < 10; i++)  
    {  
        int x;  
        cin >> x;  
        if (x > 0) pos++;  
        else if (x < 0) neg++;  
        else zero++;  
    }  
    cout << pos << " " << neg << " " << zero;  
    return 0;  
}  
```  

---  

### 编程题 3：输出字母矩阵  

```cpp  
#include <iostream>  
using namespace std;  

int main()  
{  
    int n;  
    cin >> n;  

    for (int i = 0; i < n; i++)  
    {  
        for (int j = 0; j < n; j++)  
        {  
            // 第 i 行的起始字母  
            char ch = 'A' + (i + j) % 26;  
            cout << ch;  
        }  
        cout << endl;  
    }  

    return 0;  
}  
```  

> 行列偏移 `(i+j)` 决定每个位置的字母，超过 `'Z'` 后通过 `%26` 回绕到 `'A'`。  

---  

### 编程题 4：阶乘与排列数（必须使用函数）  

```cpp  
#include <iostream>  
using namespace std;  

int getFactorial(int n)  
{  
    int res = 1;  
    for (int i = 1; i <= n; i++)  
        res *= i;  
    return res;  
}  

int getArrange(int n, int m)  
{  
    // A(n,m) = n! / (n-m)!  
    int num = getFactorial(n);  
    int den = getFactorial(n - m);  
    return num / den;  
}  

int main()  
{  
    int a, b;  
    cin >> a >> b;  
    cout << getArrange(a, b);  
    return 0;  
}  
```  

> 与 2022–2023 期中考排列组合编程题思路一致。  

---  

### 编程题 5：递归数列（限用递归）  

```cpp  
#include <iostream>  
using namespace std;  

int f(int n)  
{  
    if (n <= 3) return 1;                // 前三项都是 1  
    return f(n - 1) + f(n - 2) + f(n - 3);  
}  

int main()  
{  
    int N;  
    cin >> N;  
    cout << f(N);  
    return 0;  
}  
```  

> 题型与 2022–2023 期中考第 6 题一致，只是这里直接给出递归解答。  

