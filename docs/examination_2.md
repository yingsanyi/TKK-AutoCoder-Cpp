下面再给你**一套全新的模拟卷**，结构和难度参照你给的历年卷子，题目内容不与前一套重复，依然是：

- 单选题：25 题 × 2 分
- 编程题：5 题 × 10 分

全部题目都尽量参考你上传的历年卷风格与考点范围。

我先给**整套题目**，然后给**标准答案与解析**，最后给**编程题参考代码**。

---

## 一、单项选择题（共 25 题，每题 2 分）

> 说明：
> 1. 默认已写好 `#include <iostream>` 和 `using namespace std;`，除非题目中另有包含。
> 2. 所有浮点数类型均为 `double`。
> 3. 若题目提到 OJ，环境风格与 xujcoj 类似。

---

### 1
关于 OJ 中“编译失败”的错误类型，下列哪一项对应“代码无法通过编译（语法错误、缺少头文件等）”？
(A) Wrong Answer
(B) Compile Error
(C) Runtime Error
(D) Time Limit Exceeded
(E) Memory Limit Exceeded

---

### 2
要使用 `random_device` 和 `mt19937` 生成随机数，以下哪一行头文件包含是**必需的**？
(A) `#include <random>`
(B) `#include <ctime>`
(C) `#include <algorithm>`
(D) `#include <cmath>`
(E) `#include <cstring>`

---

### 3
有如下代码片段：
```cpp
int a = 5, b = 3;
cout << a / b << " " << a / (double)b;
```
程序输出是：
(A) `1 1`
(B) `1 1.66667`（或类似小数）
(C) `1.66667 1`
(D) `1.66667 1.66667`
(E) 编译错误

---

### 4
已知 ASCII 码 97 对应字符 `'a'`。以下代码的输出结果是：
```cpp
char c = 'a';
cout << (int)c << " " << char(c - 32);
```
(A) `65 A`
(B) `65 a`
(C) `97 A`
(D) `97 a`
(E) 以上都不对

---

### 5
以下哪个是合法的变量定义？
(A) `int 3a = 3;`
(B) `double long = 3.14;`
(C) `int _sum = 0;`
(D) `char a b = 'x';`
(E) `int-if = 1;`

---

### 6
下面关于 `if-else` 结构及缩进的描述，哪个是**正确**的？
(A) `else` 总是和最近的、尚未匹配 `else` 的 `if` 配对
(B) `else` 总是和第一个 `if` 配对
(C) 只要缩进对齐，`else` 就会和视觉上最近的 `if` 配对
(D) 一个 `if` 可以同时有两个 `else`
(E) `if` 可以单独使用但 `else` 也可以单独使用

---

### 7
以下代码的输出结果是：
```cpp
int x = 10;
if (x > 0)
    if (x > 5)
        cout << 1;
    else
        cout << 2;
```
(A) 1
(B) 2
(C) 12
(D) 没有输出
(E) 编译错误

---

### 8
下面关于 `do...while` 的描述中，正确的是：
(A) 循环条件放在前面，可能一次也不执行循环体
(B) 循环条件放在后面，循环体至少执行一次
(C) `do...while` 与 `while` 完全等价，只是写法不同
(D) `do...while` 中的 `while` 后面不能有分号
(E) `do...while` 中不能使用 `break`

---

### 9
下面代码的输出结果是（假定输入 `3`）：
```cpp
int n;
cin >> n;
while (n--)
{
    cout << n;
}
```
(A) 210
(B) 321
(C) 210（最后换行）
(D) 321（最后换行）
(E) 无输出

---

### 10
如下代码的输出结果是：
```cpp
int a = 2, b = 3;
cout << (a & b) << " " << (a | b);
```
二进制：`a=10, b=11`。
(A) `2 3`
(B) `0 0`
(C) `1 1`
(D) `0 3`
(E) `2 1`

---

### 11
已知函数：
```cpp
void f(int x, int &y)
{
    x++;
    y += x;
}
int main()
{
    int a = 1, b = 2;
    f(a, b);
    cout << a << " " << b;
}
```
输出结果是：
(A) `1 3`
(B) `1 4`
(C) `2 3`
(D) `2 4`
(E) 以上都不对

---

### 12
关于下面数组初始化的代码：
```cpp
int a[5] = {1, 2};
```
执行结束后，数组元素 `a[0]`~`a[4]` 的值分别是：
(A) `1 2 3 4 5`
(B) `1 2 0 0 0`
(C) `0 0 1 2 0`
(D) `1 1 1 1 1`
(E) 未定义行为

---

### 13
以下代码的输出结果是：
```cpp
char s[] = "abcde";
cout << s[2] << " " << s[5];
```
(A) `c e`
(B) `c` 后面跟一个随机字符
(C) `c` 后面是 `\0`（什么也不显示）
(D) `e` 后面是 `\0`
(E) 编译错误

---

### 14
以下关于 `string` 的说法中，哪一项是正确的？
(A) `string` 类型可以用 `+` 实现字符串拼接
(B) `string` 数组必须以 `'\0'` 结尾
(C) 不能用 `[]` 访问 `string` 中的单个字符
(D) `string` 不能与 `char` 一起使用
(E) `string` 不能比较大小

---

### 15
下面二维数组的定义和初始化：
```cpp
int a[2][3] = {{1,2,3},{4,5}};
```
则 `a[1][2]` 的值是：
(A) 0
(B) 3
(C) 4
(D) 5
(E) 未定义

---

### 16
以下函数的功能是：
```cpp
int f(int a[], int n)
{
    int s = 0;
    for(int i = 0; i < n; i++)
        s += a[i];
    return s;
}
```
(A) 计算数组中最大值
(B) 计算数组中最小值
(C) 计算数组中所有元素的和
(D) 计算数组中正数的个数
(E) 计算数组长度

---

### 17
以下关于指针的说法中，正确的是：
(A) `int* p;` 定义了一个整型变量 `p`
(B) `int* p;` 定义了一个指向 `int` 的指针
(C) `int& p;` 定义了一个指针
(D) `double* p;` 可以保存 `int` 变量的地址
(E) `int p[10];` 可以当作指针变量使用

---

### 18
给定如下代码：
```cpp
int a = 10;
int* p = &a;
(*p)++;
cout << a;
```
输出结果是：
(A) 9
(B) 10
(C) 11
(D) 一个地址
(E) 编译错误

---

### 19
关于递归函数，以下哪个说法是正确的？
(A) 递归函数中不能使用 `if`
(B) 递归函数必须有一个“结束条件”
(C) 递归函数不能调用自己
(D) 递归函数不能有返回值
(E) 递归函数不会造成栈空间消耗

---

### 20
有以下函数：
```cpp
int f(int n)
{
    if (n <= 3) return 1;
    return f(n-1) + f(n-2) + f(n-3);
}
```
则 `f(4)` 的值是：
(A) 1
(B) 2
(C) 3
(D) 4
(E) 以上都不对

---

### 21
关于如下宏定义与使用：
```cpp
#define SQR(x) ((x)*(x))
int main()
{
    cout << SQR(1+2);
}
```
输出结果是：
(A) 3
(B) 5
(C) 9
(D) 1+2*1+2
(E) 以上都不对

---

### 22
函数重载的前提条件是：
(A) 函数名不同、参数相同
(B) 函数名相同、参数列表不同
(C) 函数名相同、返回值不同即可
(D) 函数体不同即可
(E) 只要在不同文件中，函数名可以随意重复

---

### 23
给出如下函数：
```cpp
void g(int a, int b = 5)
{
    cout << a << " " << b;
}
int main()
{
    g(3);
}
```
输出结果是：
(A) `3 0`
(B) `3 3`
(C) `3 5`
(D) `0 5`
(E) 编译错误

---

### 24
下面关于 `const` 的说法中，正确的是：
(A) `const int a = 5;` 中的 `a` 的值不能被修改
(B) `const` 只能修饰整型
(C) 被 `const` 修饰的变量一定存放在只读存储区
(D) `const` 变量必须在运行时才能初始化
(E) `const` 变量不能用于表达式运算

---

### 25
下面的代码：
```cpp
char c[] = "xyz";
char* p = c;
p[1] = 'A';
cout << c;
```
输出结果是：
(A) `xyz`
(B) `xAz`
(C) `xA`
(D) `Ayz`
(E) 编译出错

---

## 二、编程题（共 5 题，每题 10 分）

> 所有编程题必须写完整程序（含头文件和 `main` 函数）。

---

### 编程题 1：判断大小写并输出整行字母

输入一个字符 `ch`：
- 若 `ch` 是大写字母（`'A'`~`'Z'`），则输出从 `'A'` 到 `'Z'` 的所有大写字母，最后换行；
- 若 `ch` 是小写字母（`'a'`~`'z'`），则输出从 `'a'` 到 `'z'` 的所有小写字母，最后换行；
- 若 `ch` 是其他字符，则什么都不要输出。

必须使用循环语句实现输出。

---

### 编程题 2：星号右下直角三角形

输入一个正整数 `n`，输出如下形式的由 `*` 组成的右下直角三角形（共 n 行）：

例如：
输入：`4`

输出：
```text
   *
  **
 ***
****
```

要求：
- 每行先输出若干个空格，再输出若干个星号
- 必须使用循环结构实现

---

### 编程题 3：统计区间内素数的个数与和

输入两个正整数 `m` 和 `n`（保证 `m <= n`），统计从 `m` 到 `n`（含两端）之间的所有素数：

- 输出两项内容：
  - 该区间内素数的**个数**
  - 该区间内素数的**和**

二者用一个空格分隔，最后换行。

提示：
- 可以编写一个函数 `bool isPrime(int x);` 用于判断 `x` 是否为素数，并在主函数中调用。

---

### 编程题 4：数组最大值、最小值与平均值

输入 10 个整数存入数组 `a` 中，要求：

1. 计算并输出数组中的最大值
2. 计算并输出数组中的最小值
3. 计算并输出数组元素的平均值（用 `double`，保留 2 位小数）

输出格式为：
`max min avg`

中间以**一个空格**分隔，最后换行。
提示：
- 浮点数输出可使用 `printf("%.2lf\n", avg);`

---

### 编程题 5：下一个“各位互不相同”的整数

定义两个函数：

```cpp
bool isDiff(int n);     // 判断正整数 n 各位数字是否互不相同
int getNextDiff(int n); // 返回比 n 大的、各位数字互不相同的下一个整数
```

- `isDiff`：
  - 若 `n` 的十进制表示中每一位都不重复，返回 `true`，否则返回 `false`
  - 例如：`n=1230` → `true`；`n=1213` → `false`

- `getNextDiff`：
  - 从 `n+1` 开始往上找第一个满足 `isDiff` 为 `true` 的数，并返回该数

`main` 函数：
- 从输入中读入一个正整数 `a`
- 调用 `getNextDiff(a)`
- 输出其返回值，最后换行

---

# 标准答案与解析

## 一、单选题答案

1. B
2. A
3. B
4. C
5. C
6. A
7. A
8. B
9. A
10. A
11. B
12. B
13. C
14. A
15. A
16. C
17. B
18. C
19. B
20. C
21. C
22. B
23. C
24. A
25. B

---

## 一、单选题解析（简要）

### 1
OJ 中编译失败通常显示为 `Compile Error`。
**选 B。**

---

### 2
`random_device` 和 `mt19937` 都在头文件 `<random>` 中。
**选 A。**

---

### 3
`a / b` 是整除：`5/3 == 1`，`a / (double)b` 是浮点除法，大约 `1.66667`。
**选 B。**

---

### 4
`'a'` 的 ASCII 为 97，`c-32` 对应 `'A'`；输出 `97 A`。
**选 C。**

---

### 5
- 变量名不能以数字开头，不能是关键字，不能包含特殊符号（如下划线以外）。
- `int _sum = 0;` 合法。
**选 C。**

---

### 6
C/C++ 语法规定 `else` 必须和**最近的、尚未匹配的 `if`** 配对，和缩进无关。
**选 A。**

---

### 7
`x=10 > 0` 为真，进入外层 `if`，再判断 `x>5` 为真，输出 `1`。内层 `else` 与内层 `if` 配对，没有执行。
**选 A。**

---

### 8
`do...while` 循环体执行后再判断条件，至少执行一次。
**选 B。**

---

### 9
`n` 初始为 3：
- 第 1 次循环前 `n--` 在条件中使用的是原值 3，条件真，循环体输出 `n` 的当前值 2
- 第 2 次：`n` 为 2，条件 `n--` 使用 2，输出 `1`
- 第 3 次：`n` 为 1，条件 `n--` 使用 1，输出 `0`
- 然后 `n` 变为 -1，条件为假，停止

实际输出依次为 `210`。
**选 A。**

---

### 10
二进制：`2 = 10`, `3 = 11`：
- `a & b = 10 & 11 = 10（二进制） = 2`
- `a | b = 10 | 11 = 11（二进制） = 3`
**选 A。**

---

### 11
调用 `f(a,b)`：
- `x` 为值传递，初值 1，在函数内变为 2，不影响 `a`
- `y` 为引用，最初绑定 `b=2`
  - `x++`：`x=2`
  - `y += x`：`b = 2 + 2 = 4`

`main` 中输出 `a b` → `1 4`。
**选 B。**

---

### 12
`int a[5] = {1,2};` 只给前两项初始化，其余自动补 0：
- `1 2 0 0 0`
**选 B。**

---

### 13
`char s[] = "abcde";` 实际为 `'a','b','c','d','e','\0'`：
- `s[2] = 'c'`
- `s[5] = '\0'`，显示为空字符，屏幕上只看到 `c` 和一个空格。
**选 C。**

---

### 14
`string` 支持 `+` 运算连接两个字符串。
**选 A。**

---

### 15
二维数组按行优先：`{ {1,2,3},{4,5,0} }`，因此 `a[1][2] = 0`。
**选 A。**

---

### 16
循环中对所有 `a[i]` 累加后返回，是求**数组元素总和**。
**选 C。**

---

### 17
`int* p;` 是“指向 `int` 的指针”。
**选 B。**

---

### 18
`p` 指向 `a`，`(*p)++` 是对 `a` 自增 → `a=11`。
**选 C。**

---

### 19
递归函数必须有结束条件（基例），否则会无限递归导致栈溢出。
**选 B。**

---

### 20
由定义：`f(1)=f(2)=f(3)=1`，则

`f(4) = f(3) + f(2) + f(1) = 1 + 1 + 1 = 3`。
**选 C。**

---

### 21
`SQR(1+2)` 展开为 `((1+2)*(1+2))` → `9`。
**选 C。**

---

### 22
函数重载：函数名相同，但**参数列表不同**（参数个数或类型不同）。
**选 B。**

---

### 23
`g(3)` 等价于 `g(3, 5)`，默认参数 `b=5`。
输出：`3 5`。
**选 C。**

---

### 24
`const int a = 5;` 中 `a` 的值在之后代码中不能被修改。
其余说法都错误。
**选 A。**

---

### 25
`char c[] = "xyz";` 是可修改数组。
`p[1] = 'A';` 把 `'y'` 改为 `'A'`，数组内容变 `"xAz"`。
`cout << c;` 输出整个字符串 → `xAz`。
**选 B。**

---

## 二、编程题参考代码

下面是每道编程题的一个**参考实现**，风格与历年标准答案一致。

---

### 编程题 1：判断大小写并输出整行字母

```cpp
#include <iostream>
using namespace std;

int main()
{
    char ch;
    if (!(cin >> ch)) return 0;

    if (ch >= 'A' && ch <= 'Z')
    {
        for (char c = 'A'; c <= 'Z'; c++)
            cout << c;
        cout << endl;
    }
    else if (ch >= 'a' && ch <= 'z')
    {
        for (char c = 'a'; c <= 'z'; c++)
            cout << c;
        cout << endl;
    }
    // 其他字符：什么都不输出

    return 0;
}
```

---

### 编程题 2：星号右下直角三角形

```cpp
#include <iostream>
using namespace std;

int main()
{
    int n;
    cin >> n;

    for (int i = 1; i <= n; i++)
    {
        // 先输出空格：第 i 行有 n - i 个空格
        for (int j = 0; j < n - i; j++)
            cout << ' ';
        // 再输出星号：第 i 行有 i 个星号
        for (int j = 0; j < i; j++)
            cout << '*';
        cout << endl;
    }

    return 0;
}
```

---

### 编程题 3：区间素数个数与和

```cpp
#include <iostream>
using namespace std;

bool isPrime(int x)
{
    if (x < 2) return false;
    for (int i = 2; i * i <= x; i++)
    {
        if (x % i == 0) return false;
    }
    return true;
}

int main()
{
    int m, n;
    cin >> m >> n;

    int cnt = 0;
    long long sum = 0;  // 和可能会比较大，用 long long 更安全

    for (int i = m; i <= n; i++)
    {
        if (isPrime(i))
        {
            cnt++;
            sum += i;
        }
    }

    cout << cnt << " " << sum << endl;

    return 0;
}
```

---

### 编程题 4：数组最大值、最小值与平均值

```cpp
#include <iostream>
#include <cstdio>
using namespace std;

int main()
{
    int a[10];
    for (int i = 0; i < 10; i++)
        cin >> a[i];

    int mx = a[0], mn = a[0];
    long long sum = 0;

    for (int i = 0; i < 10; i++)
    {
        if (a[i] > mx) mx = a[i];
        if (a[i] < mn) mn = a[i];
        sum += a[i];
    }

    double avg = sum / 10.0;
    // 可以用 printf 保证格式，正如 2021-2022 的提示要求
    printf("%d %d %.2lf\n", mx, mn, avg);

    return 0;
}
```

---

### 编程题 5：下一个各位互不相同的整数

```cpp
#include <iostream>
using namespace std;

// 判断 n 的十进制每位是否互不相同
bool isDiff(int n)
{
    bool used[10] = {false};
    if (n == 0) used[0] = true; // 0 单独处理也可以

    while (n > 0)
    {
        int d = n % 10;
        if (used[d]) return false;
        used[d] = true;
        n /= 10;
    }
    return true;
}

// 返回比 n 大的下一个“各位互不相同”的整数
int getNextDiff(int n)
{
    int x = n + 1;
    while (true)
    {
        if (isDiff(x)) return x;
        x++;
    }
}

int main()
{
    int a;
    cin >> a;
    cout << getNextDiff(a) << endl;
    return 0;
}
```

---
