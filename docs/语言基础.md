第二章：C++ 编程基石——变量、数据与运算
本章导读：如果把写程序比作做菜，那么“变量”就是盛放食材的容器，“数据类型”决定了食材是液体还是固体，“运算符”则是我们在烹饪过程中处理食材的各种刀工和烹饪手法。本章我们将深入计算机的内存世界，学习如何定义数据、操纵数据。

---
第一节：数据的容器——变量 (Variables)
计算机的核心功能是处理数据。为了处理数据，我们需要先在内存中为数据找一个“家”，这个“家”就是变量。
1.1 什么是变量？
- 定义：变量是内存中用于存储数据的一个命名区域，其值在程序运行过程中可以改变。
- 原则：先声明，后使用。就像入住酒店必须先办理登记一样。
1.2 变量的声明与初始化
在 C++ 中，我们有多种方式来创建一个变量并给它赋初值。
语法格式：
数据类型 变量名;           // 仅声明
数据类型 变量名 = 初始值;   // 声明并赋值
代码示例与详解：
#include <iostream>
using namespace std;

int main() {
    // 方式 1：先声明，后赋值
    int a; 
    a = 10;

    // 方式 2：声明的同时进行赋值（复制初始化，最常用）
    int b = 20; 

    // 方式 3：括号初始化 (C++ 特色，构造函数风格)
    int c(30); 

    // 方式 4：列表初始化 (C++11 新标准，推荐，更安全)
    int d{40}; 

    cout << "a=" << a << ", b=" << b << ", c=" << c << ", d=" << d << endl;
    
    // 错误示范：连锁定义
    // int x = y = z = 5; // 错误！y和z未声明
    
    // 正确的连锁赋值（前提是变量都已声明）
    int x, y, z;
    x = y = z = 5; // 正确，从右向左赋值
    
    return 0;
}
1.3 标识符的命名规则
给变量起名字（标识符）不能随心所欲，必须遵守“家规”：
1. 组成：只能包含字母（a-z, A-Z）、数字（0-9）和下划线（_）。
2. 首字符：不能以数字开头。
3. 敏感性：区分大小写（Name 和 name 是两个不同的变量）。
4. 禁区：不能使用 C++ 的关键字（如 int, class, return 等）。
命名建议：变量名应“见名知意”，例如用 studentAge 而不是 a，用 total_score 而不是 t。

---
第二节：数据的分类——数据类型 (Data Types)
C++ 的数据类型非常丰富，主要分为基本数据类型和复合数据类型。我们先重点掌握基本类型。
2.1 常见基本数据类型概览 (1)
暂时无法在飞书文档外展示此内容
注意：具体字节数取决于编译器和操作系统，可以使用 sizeof() 运算符查看。
2.2 字符串类型 (std::string)
C++ 提供了一个非常方便的工具箱 <string> 来处理文本。这比 C 语言风格的字符数组更简单强大。
代码示例：
#include <iostream>
#include <string> // 必须引入头文件

using namespace std;

int main() {
    // 字符类型 char：只能存一个字符，用单引号 ''
    char letter = 'A'; 
    
    // 字符串类型 string：存一串字符，用双引号 ""
    string greeting = "Hello C++";
    string name = "嘉庚学院";

    cout << greeting << ", " << name << endl;
    return 0;
}
2.3 给类型起别名
如果觉得 unsigned long long 写起来太累，可以给它起个小名。
- 传统方式：typedef double Area;
- 现代方式 (C++11)：using Area = double;

---
第三节：数据的输入与输出 (I/O)
我们通过 iostream 库与用户进行交互。
3.1 标准输入输出流 
- cout (Console Output)：配合 << (插入运算符)，将数据发送到屏幕。
- cin (Console Input)：配合 >> (提取运算符)，从键盘获取数据存入变量。
进阶技巧：连续输入
cin 能够自动跳过空格和回车，非常适合一次输入多个数据。
#include <iostream>
using namespace std;

int main() {
    int id;
    double score;
    char grade;

    cout << "请输入学号、分数和等级(用空格隔开): ";
    // 用户输入：101 98.5 A
    cin >> id >> score >> grade; 

    cout << "学号:" << id << " 分数:" << score << " 等级:" << grade << endl;
    return 0;
}
3.2 格式化输出
有时候我们需要输出整齐的表格或者保留特定的小数位，这时需要用到 <iomanip> 库。
常用控制符详解：
暂时无法在飞书文档外展示此内容
实战演练：打印九九乘法表片段
#include <iostream>
#include <iomanip> // 格式化必加
using namespace std;

int main() {
    double pi = 3.1415926;
    cout << "默认输出: " << pi << endl;
    cout << "保留两位: " << fixed << setprecision(2) << pi << endl;
    
    int num = 123;
    cout << "左对齐填充: " << left << setw(10) << setfill('*') << num << endl;
    
    return 0;
}
3.3 转义字符 (6)
有些字符无法直接打印（如换行、制表符），需要用反斜杠 \ 开头表示。
- \n : 换行
- \t : 制表符（Tab，用于对齐）
- \\ : 输出反斜杠本身
- \" : 输出双引号

---
第四节：数据的变形——类型转换
当不同类型的数据在一起运算时，C++ 会进行类型转换。
4.1 自动类型转换 (隐式)
原则：往精度更高、字节更长的方向转换，保证数据不丢失。
- char / short → int → long → double
- 例如：3 + 3.5，整数 3 会先自动变成 3.0，然后计算 3.0 + 3.5 = 6.5。
4.2 强制类型转换 (显式) (8)
程序员强制要求转换，可能会丢失精度（如小数转整数）。
double pi = 3.14159;

// C语言风格
int a = (int)pi; 

// C++函数风格
int b = int(pi);

// C++静态转换 (推荐，更严谨)
int c = static_cast<int>(pi); 

cout << c; // 输出 3，小数部分被直接丢弃

---
第五节：计算的引擎——运算符 (Operators)
5.1 算术运算符
除了 +, -, *, /，还有两个特别重要的：
- % (取模/求余)：只对整数有效。例：7 % 3 结果为 1。
- ++ / -- (自增/自减)：
  - 前置 (++i)：先加 1，再使用。
  - 后置 (i++)：先使用当前值，用完后再加 1。
难点解析：前置与后置的区别 (10)
int a = 1;
int b = 2;
// ++b 是前置：b先变为3，然后 1 + 3 = 4
cout << "a + ++b = " << a + ++b << endl; // 输出 4，此时 b=3

int c = 2;
// c++ 是后置：先取c的值(2)参与计算 (1+2=3)，计算完后 c 再变为 3
cout << "a + c++ = " << a + c++ << endl; // 输出 3，此时 c=3
5.2 复合赋值运算符
这是一种简写形式，让代码更简洁。
- x += 3  等价于 x = x + 3
- x *= 2  等价于 x = x * 2
5.3 常用数学函数
使用 <cmath> 头文件可以进行高级数学计算。
- pow(x, y): 计算 $$x^y$$
- sqrt(x): 计算 $$\sqrt{x}$$
- abs(x): 计算绝对值
- ceil(x): 向上取整
- floor(x): 向下取整
5.4 运算优先级 (13)
记住关键点：
1. 括号 () 优先级最高。
2. ! (非) > 算术运算符 (* / % > + -) > 关系运算符 (> < ==) > 逻辑运算符 (&& ||)。
3. 赋值 = 和逗号 , 优先级最低。

---
第六节：实战练习——上机题目
理论学完了，让我们通过代码来解决实际问题。
题目 1：自我介绍程序
要求：用户输入姓名、年龄、班级，然后输出。
#include <iostream>
#include <string>
using namespace std;

int main() {
    string name, class_name;
    int age;

    cout << "请输入姓名: ";
    cin >> name;
    cout << "请输入年龄: ";
    cin >> age;
    cout << "请输入班级: ";
    cin >> class_name;

    cout << "大家好，我是" << name << "，来自" << class_name 
         << "，今年" << age << "岁。" << endl;
    return 0;
}
题目 2：BMI 计算器
要求：输入体重(kg)和身高(m)，计算 BMI = 体重 / (身高 * 身高)。
#include <iostream>
using namespace std;

int main() {
    double weight, height, bmi;
    
    cout << "请输入体重(kg): ";
    cin >> weight;
    cout << "请输入身高(m): ";
    cin >> height;

    bmi = weight / (height * height);

    cout << "您的 BMI 指数为: " << bmi << endl;
    return 0;
}
题目 3：简单的年龄换算器
要求：输入年龄（岁），输出大概活了多少月、多少天。
#include <iostream>
using namespace std;

int main() {
    int age;
    cout << "请输入您的年龄: ";
    cin >> age;

    int months = age * 12;
    long days = age * 365; // 用 long 防止数字过大溢出

    cout << "您已经度过了约 " << months << " 个月，" 
         << days << " 天。" << endl;
    return 0;
}

---
本章小结
本章我们构建了 C++ 编程的地基：
1. 学会了用 变量 存储数据，并了解了 命名规则。
2. 掌握了 int, double, char, bool, string 等核心数据类型。
3. 学会了用 cin/cout 和 iomanip 进行漂亮的输入输出。
4. 理解了 运算符 的使用，特别是自增自减的前后置区别。
下一步：我们将学习如何控制程序的流程（条件判断与循环），让程序具备逻辑判断的能力！